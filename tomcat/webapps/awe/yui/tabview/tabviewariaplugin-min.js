(function(){var a=YAHOO.util.Dom,G=YAHOO.util.Event,q=YAHOO.env.ua,f=YAHOO.lang,r=YAHOO.widget.TabView.prototype,n=r.initAttributes,m=r.addTab,u=(q.gecko&&q.gecko>=1.9)||(q.ie&&q.ie>=8),g={},h={},F="A",o="aria-",v="usearia",c="element",y="activeTab",B="role",x="presentation",i="tab",w="href",e="contentEl",s="tabpanel",b="labelledby",E="describedby",j="activeIndex",t="tablist",D="keypress",l="keydown",C="id";var A=function(H,I){H.setAttribute(B,I)};var z=function(H,J,I){H.setAttribute((o+J),I)};var k=function(I){var H;if(a.getAncestorByClassName(I,this.TAB_PARENT_CLASSNAME)){if(I.nodeName.toUpperCase()===F){H=I}else{H=a.getAncestorByTagName(I,F)}}return H};var p=function(J){var H=k.call(this,G.getTarget(J)),I=G.getCharCode(J);if(H&&(I===13||I===32)&&(H.parentNode!==this.get(y).get(c))){this.set(j,h[this.get(C)][H.id])}};var d=function(M){var L=k.call(this,G.getTarget(M)),I=g[this.get(C)],H,J,K;if(L){H=L.parentNode;switch(G.getCharCode(M)){case 37:case 38:J=a.getPreviousSibling(H);if(!J){J=I[I.length-1]}break;case 39:case 40:J=a.getNextSibling(H);if(!J){J=I[0]}break}if(J){K=a.getFirstChild(J);L.tabIndex=-1;K.tabIndex=0;K.focus()}}};f.augmentObject(r,{addTab:function(N,K){m.apply(this,arguments);var J=this.get(C),I=g[J],M,H,L,O;if(this.get(v)){M=N.get(c);H=a.getFirstChild(M);H.tabIndex=(this.get(y)===N)?0:-1;O=H.id||a.generateId(H);h[J][O]=this.getTabIndex(N);A(M,x);A(H,i);H.removeAttribute(w);L=N.get(e);I[I.length]=L;A(L,s);L.setAttribute(b,O)}},_setLabelledBy:function(I){var H=a.getFirstChild(this.get(c));if(this.get(v)&&H){z(H,b,I)}},_setDescribedBy:function(I){var H=a.getFirstChild(this.get(c));if(this.get(v)&&H){z(H,E,I)}},_setUseARIA:function(J){var H,I;if(J){I=this.get(C);if(!I){this.set(C,a.generateId());I=this.get(C)}g[I]=[];h[I]={};H=a.getFirstChild(this.get(c));if(!H){this.on("appendTo",function(){A(a.getFirstChild(this.get(c)),t)},null,this)}else{A(H,t)}this.on(D,p);this.on(l,d)}},initAttributes:function(H){this.setAttributeConfig(v,{value:(H.usearia||u),validator:f.isBoolean,writeOnce:true,method:this._setUseARIA});this.setAttributeConfig(b,{value:H.labelledby,validator:f.isString,method:this._setLabelledBy});this.setAttributeConfig(E,{value:H.describedby,validator:f.isString,method:this._setDescribedBy});if(u){this.set(v,true)}n.call(this,H)}},"initAttributes","_setUseARIA","_setLabelledBy","_setDescribedBy","addTab")}());YAHOO.register("tabviewariaplugin",YAHOO.widget.TabView,{version:"@VERSION@",build:"@BUILD@"});