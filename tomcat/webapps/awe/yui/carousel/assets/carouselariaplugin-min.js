(function(){var T=YAHOO.util.Event,U=YAHOO.util.Dom,ab=YAHOO.lang,K=YAHOO.env.ua,ad=YAHOO.widget.Carousel.prototype,p=ad.initAttributes,o={},O={},A=(K.gecko&&K.gecko>=1.9)||(K.ie&&K.ie>=8),P={A:true,SELECT:true,TEXTAREA:true,BUTTON:true,INPUT:true},N="usearia",w="aria-",i="hidden",I="*",E="id",aa="role",J="option",R="listbox",B="li",D="selectedItem",a="selected",r="toolbar",ac="keydown",V="presentation",n="button",F="UL",v="A",C="render",g="selectedItemChange",d="show",k="pageChange",l="keypress",b="controls",z="labelledby",y="describedby",h=" (Current Page)";var s=function(ae,af){ae.setAttribute(aa,af)};var u=function(ae,ag,af){ae.setAttribute((w+ag),af)};var S=function(){var ae=this.getElementsByClassName(this.CLASSES.CAROUSEL_EL);if(ae.length===1){return ae[0]}};var j=function(){var ae=this.getElementsByClassName(this.CLASSES.NAVIGATION);if(ae.length===1){return ae[0]}};var X=function(ae){return((ae.tabIndex>-1||P[ae.nodeName.toUpperCase()])&&ae.type!==i&&!ae.disabled)};var c=function(ae){ae.tabIndex=0};var W=function(ae){ae.tabIndex=-1};var H=function(ae){var af=this.getItem(ae);if(af){U.getElementsBy(X,I,af.id,c)}};var Y=function(ae){var af=this.getItem(ae);if(af){U.getElementsBy(X,I,af.id,W)}};var G=function(af){var ae=af.prevValue;if(ab.isNumber(ae)){Y.call(this,ae)}H.call(this,af.newValue);u(this.getElementForItem(af.newValue),a,true)};var m=function(aj){T.stopPropagation(aj);var ai=this.get(E),ah=o[ai],ag=O[ai],af,ae;switch(T.getCharCode(aj)){case 37:case 38:ae=ah[ag];ae.tabIndex=-1;ag=ag-1;af=ah[ag];if(!af){ag=ah.length-1;af=ah[ag]}O[ai]=ag;af.tabIndex=0;af.focus();break;case 39:case 40:ae=ah[ag];ae.tabIndex=-1;ag=ag+1;af=ah[ag];if(!af){ag=0;af=ah[ag]}O[ai]=ag;af.tabIndex=0;af.focus();break}};var Q=function(ae){s(ae,J);U.getElementsBy(X,I,ae,W)};var e=function(){var ag=S.call(this),af,ae;if(ag){s(ag,R);U.batch(ag.getElementsByTagName(B),Q);af=this.get(D);if(ab.isNumber(af)){u(this.getElementForItem(af),a,true);H.call(this,af)}ae=j.call(this);if(ae){s(ae,r);T.on(ae,ac,m,null,this)}}};var x=function(aj,ah){var al=ah.carousel,af=ah.toolbarButtons;s(aj,V);var ak=U.getFirstChild(aj);s(ak,n);u(ak,b,ah.listID);var ai=U.hasClass(aj,al.CLASSES.SELECTED_NAV)?0:-1;ak.tabIndex=ai;var ag=af.length,ae=U.getFirstChild(ak);if(ai===0){O[al.get(E)]=ag;ae.innerHTML=ae.innerHTML+h}af[ag]=ak};var q=function(af,ae){var ag=ae.toolbarButtons;s(af,V);u(af,b,ae.listID);var ah=U.getFirstChild(af);if(!ah.disabled){ah.tabIndex=-1;ag[ag.length]=ah}};var M=function(ah){var af=j.call(this),ae=[],aj,ai,ag;if(af){aj=U.getFirstChild(af);ai=S.call(this);if(aj&&ai){ag=ai.id||U.generatId(ai);if(aj.nodeName.toUpperCase()===F){s(aj,V);U.batch(aj.getElementsByTagName(B),x,{carousel:this,toolbarButtons:ae,listID:ag})}else{aj.tabIndex=0;u(aj,b,ag)}U.batch(this.getElementsByClassName(this.CLASSES.BUTTON),q,{toolbarButtons:ae,listID:ag});o[this.get(E)]=ae}}};var L=function(){ab.later(0,this,M)};var Z=function(ag){var ae=T.getTarget(ag),af=T.getCharCode(ag);if(ae.nodeName.toUpperCase()===v&&U.getAncestorByClassName(ae,this.CLASSES.NAVIGATION)&&(af===13||af===32)){this._pagerClickHandler(ag)}};var f=function(ae,af){this.set(z,af,true);this.removeListener(C,f)};var t=function(ae,af){this.set(y,af,true);this.removeListener(C,t)};ab.augmentObject(ad,{_setLabelledBy:function(ag){var ae=j.call(this),af=S.call(this);if(this.get(N)&&ae&&af){u(ae,z,ag);u(af,z,ag)}else{this.on(C,f,ag)}},_setDescribedBy:function(ag){var ae=j.call(this),af=S.call(this);if(this.get(N)&&ae&&af){u(ae,y,ag);u(af,y,ag)}else{this.on(C,t,ag)}},_setUseARIA:function(ae){if(ae){this.on(C,e);this.on(g,G);this.on(d,M);this.on(k,L);this.on(l,Z)}},initAttributes:function(ae){this.setAttributeConfig(N,{value:ae.usearia||A,validator:ab.isBoolean,writeOnce:true,method:this._setUseARIA});this.setAttributeConfig(z,{value:ae.labelledby,validator:ab.isString,method:this._setLabelledBy});this.setAttributeConfig(y,{value:ae.describedby,validator:ab.isString,method:this._setDescribedBy});p.apply(this,arguments);if(A){this.set(N,true)}}},"initAttributes","_setUseARIA","_setLabelledBy","_setDescribedBy")}());YAHOO.register("carouselariaplugin",YAHOO.widget.Carousel,{version:"@VERSION@",build:"@BUILD@"});